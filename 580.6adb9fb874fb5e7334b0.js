"use strict";(self.webpackChunkgoogle_maps=self.webpackChunkgoogle_maps||[]).push([[580],{6580:(Ds,Ae,g)=>{g.r(Ae),g.d(Ae,{MapCentricModule:()=>ks});var p=g(8583),Oe=g(8949),R=g(5917),E=g(8002),Fe=g(5304),s=g(7716),b=g(6215),V=g(7574),w=g(9765),U=g(9112),zt=g(3190),S=g(5257),C=g(6782);const Se=["*"];class D{constructor(n){this._ngZone=n,this._pending=[],this._listeners=[],this._targetStream=new b.X(void 0)}_clearListeners(){for(const n of this._listeners)n.remove();this._listeners=[]}getLazyEmitter(n){return this._targetStream.pipe((0,zt.w)(e=>{const i=new V.y(r=>{if(!e)return void this._pending.push({observable:i,observer:r});const o=e.addListener(n,a=>{this._ngZone.run(()=>r.next(a))});return this._listeners.push(o),()=>o.remove()});return i}))}setTarget(n){const e=this._targetStream.value;n!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(n),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}}const W={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"};let I=(()=>{class t{constructor(e,i,r){if(this._elementRef=e,this._ngZone=i,this._eventManager=new D(this._ngZone),this.height="500px",this.width="500px",this._options=W,this.authFailure=new s.vpe,this.boundsChanged=this._eventManager.getLazyEmitter("bounds_changed"),this.centerChanged=this._eventManager.getLazyEmitter("center_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.headingChanged=this._eventManager.getLazyEmitter("heading_changed"),this.idle=this._eventManager.getLazyEmitter("idle"),this.maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed"),this.mapMousemove=this._eventManager.getLazyEmitter("mousemove"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.projectionChanged=this._eventManager.getLazyEmitter("projection_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.tilesloaded=this._eventManager.getLazyEmitter("tilesloaded"),this.tiltChanged=this._eventManager.getLazyEmitter("tilt_changed"),this.zoomChanged=this._eventManager.getLazyEmitter("zoom_changed"),this._isBrowser=(0,p.NF)(r),this._isBrowser){const o=window;this._existingAuthFailureCallback=o.gm_authFailure,o.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}set center(e){this._center=e}set zoom(e){this._zoom=e}set options(e){this._options=e||W}ngOnChanges(e){(e.height||e.width)&&this._setSize();const i=this.googleMap;i&&(e.options&&i.setOptions(this._combineOptions()),e.center&&this._center&&i.setCenter(this._center),e.zoom&&null!=this._zoom&&i.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),this._ngZone.runOutsideAngular(()=>{this.googleMap=new google.maps.Map(this._mapEl,this._combineOptions())}),this._eventManager.setTarget(this.googleMap))}ngOnDestroy(){this._eventManager.destroy(),this._isBrowser&&(window.gm_authFailure=this._existingAuthFailureCallback)}fitBounds(e,i){this._assertInitialized(),this.googleMap.fitBounds(e,i)}panBy(e,i){this._assertInitialized(),this.googleMap.panBy(e,i)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,i){this._assertInitialized(),this.googleMap.panToBounds(e,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_setSize(){if(this._mapEl){const e=this._mapEl.style;e.height=null===this.height?"":ze(this.height)||"500px",e.width=null===this.width?"":ze(this.width)||"500px"}}_combineOptions(){var e,i;const r=this._options||{};return Object.assign(Object.assign({},r),{center:this._center||r.center||W.center,zoom:null!==(i=null!==(e=this._zoom)&&void 0!==e?e:r.zoom)&&void 0!==i?i:W.zoom,mapTypeId:this.mapTypeId||r.mapTypeId||W.mapTypeId})}_assertInitialized(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.Lbi))},t.\u0275cmp=s.Xpm({type:t,selectors:[["google-map"]],inputs:{height:"height",width:"width",center:"center",zoom:"zoom",options:"options",mapTypeId:"mapTypeId"},outputs:{authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[s.TTD],ngContentSelectors:Se,decls:2,vars:0,consts:[[1,"map-container"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"div",0),s.Hsn(1))},encapsulation:2,changeDetection:0}),t})();const xt=/([A-Za-z%]+)$/;function ze(t){return null==t?"":xt.test(t)?t:`${t}px`}let le=(()=>{class t{constructor(e,i,r){this._googleMap=e,this._elementRef=i,this._ngZone=r,this._eventManager=new D(this._ngZone),this._options=new b.X({}),this._position=new b.X(void 0),this._destroy=new w.xQ,this.closeclick=this._eventManager.getLazyEmitter("closeclick"),this.contentChanged=this._eventManager.getLazyEmitter("content_changed"),this.domready=this._eventManager.getLazyEmitter("domready"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}set options(e){this._options.next(e||{})}set position(e){this._position.next(e)}ngOnInit(){this._googleMap._isBrowser&&(this._combineOptions().pipe((0,S.q)(1)).subscribe(i=>{this._ngZone.runOutsideAngular(()=>{this.infoWindow=new google.maps.InfoWindow(i)}),this._eventManager.setTarget(this.infoWindow)}),this._watchForOptionsChanges(),this._watchForPositionChanges())}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}open(e){this._assertInitialized();const i=e?e.getAnchor():void 0;(this.infoWindow.get("anchor")!==i||!i)&&(this._elementRef.nativeElement.style.display="",this.infoWindow.open(this._googleMap.googleMap,i))}_combineOptions(){return(0,U.aj)([this._options,this._position]).pipe((0,E.U)(([e,i])=>Object.assign(Object.assign({},e),{position:i||e.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe((0,C.R)(this._destroy)).subscribe(e=>{this._assertInitialized(),this.infoWindow.setOptions(e)})}_watchForPositionChanges(){this._position.pipe((0,C.R)(this._destroy)).subscribe(e=>{e&&(this._assertInitialized(),this.infoWindow.setPosition(e))})}_assertInitialized(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(I),s.Y36(s.SBq),s.Y36(s.R0b))},t.\u0275dir=s.lG2({type:t,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged"},exportAs:["mapInfoWindow"]}),t})();const jt={position:{lat:37.421995,lng:-122.084092}};let de=(()=>{class t{constructor(e,i){this._googleMap=e,this._ngZone=i,this._eventManager=new D(this._ngZone),this.animationChanged=this._eventManager.getLazyEmitter("animation_changed"),this.mapClick=this._eventManager.getLazyEmitter("click"),this.clickableChanged=this._eventManager.getLazyEmitter("clickable_changed"),this.cursorChanged=this._eventManager.getLazyEmitter("cursor_changed"),this.mapDblclick=this._eventManager.getLazyEmitter("dblclick"),this.mapDrag=this._eventManager.getLazyEmitter("drag"),this.mapDragend=this._eventManager.getLazyEmitter("dragend"),this.draggableChanged=this._eventManager.getLazyEmitter("draggable_changed"),this.mapDragstart=this._eventManager.getLazyEmitter("dragstart"),this.flatChanged=this._eventManager.getLazyEmitter("flat_changed"),this.iconChanged=this._eventManager.getLazyEmitter("icon_changed"),this.mapMousedown=this._eventManager.getLazyEmitter("mousedown"),this.mapMouseout=this._eventManager.getLazyEmitter("mouseout"),this.mapMouseover=this._eventManager.getLazyEmitter("mouseover"),this.mapMouseup=this._eventManager.getLazyEmitter("mouseup"),this.positionChanged=this._eventManager.getLazyEmitter("position_changed"),this.mapRightclick=this._eventManager.getLazyEmitter("rightclick"),this.shapeChanged=this._eventManager.getLazyEmitter("shape_changed"),this.titleChanged=this._eventManager.getLazyEmitter("title_changed"),this.visibleChanged=this._eventManager.getLazyEmitter("visible_changed"),this.zindexChanged=this._eventManager.getLazyEmitter("zindex_changed")}set title(e){this._title=e}set position(e){this._position=e}set label(e){this._label=e}set clickable(e){this._clickable=e}set options(e){this._options=e}set icon(e){this._icon=e}set visible(e){this._visible=e}ngOnInit(){this._googleMap._isBrowser&&(this._ngZone.runOutsideAngular(()=>{this.marker=new google.maps.Marker(this._combineOptions())}),this._assertInitialized(),this.marker.setMap(this._googleMap.googleMap),this._eventManager.setTarget(this.marker))}ngOnChanges(e){const{marker:i,_title:r,_position:o,_label:a,_clickable:c,_icon:l,_visible:d}=this;i&&(e.options&&i.setOptions(this._combineOptions()),e.title&&void 0!==r&&i.setTitle(r),e.position&&o&&i.setPosition(o),e.label&&void 0!==a&&i.setLabel(a),e.clickable&&void 0!==c&&i.setClickable(c),e.icon&&l&&i.setIcon(l),e.visible&&void 0!==d&&i.setVisible(d))}ngOnDestroy(){this._eventManager.destroy(),this.marker&&this.marker.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_combineOptions(){var e,i;const r=this._options||jt;return Object.assign(Object.assign({},r),{title:this._title||r.title,position:this._position||r.position,label:this._label||r.label,clickable:null!==(e=this._clickable)&&void 0!==e?e:r.clickable,map:this._googleMap.googleMap,icon:this._icon||r.icon,visible:null!==(i=this._visible)&&void 0!==i?i:r.visible})}_assertInitialized(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(I),s.Y36(s.R0b))},t.\u0275dir=s.lG2({type:t,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged"},exportAs:["mapMarker"],features:[s.TTD]}),t})();const Zt={};let xe=(()=>{class t{constructor(e,i){this._googleMap=e,this._ngZone=i,this._currentMarkers=new Set,this._eventManager=new D(this._ngZone),this._destroy=new w.xQ,this.ariaLabelFn=()=>"",this.clusteringbegin=this._eventManager.getLazyEmitter("clusteringbegin"),this.clusteringend=this._eventManager.getLazyEmitter("clusteringend"),this.clusterClick=this._eventManager.getLazyEmitter("click"),this._canInitialize=this._googleMap._isBrowser}set averageCenter(e){this._averageCenter=e}set batchSizeIE(e){this._batchSizeIE=e}set calculator(e){this._calculator=e}set clusterClass(e){this._clusterClass=e}set enableRetinaIcons(e){this._enableRetinaIcons=e}set gridSize(e){this._gridSize=e}set ignoreHidden(e){this._ignoreHidden=e}set imageExtension(e){this._imageExtension=e}set imagePath(e){this._imagePath=e}set imageSizes(e){this._imageSizes=e}set maxZoom(e){this._maxZoom=e}set minimumClusterSize(e){this._minimumClusterSize=e}set styles(e){this._styles=e}set title(e){this._title=e}set zIndex(e){this._zIndex=e}set zoomOnClick(e){this._zoomOnClick=e}set options(e){this._options=e}ngOnInit(){this._canInitialize&&(window,this._ngZone.runOutsideAngular(()=>{this.markerClusterer=new MarkerClusterer(this._googleMap.googleMap,[],this._combineOptions())}),this._assertInitialized(),this._eventManager.setTarget(this.markerClusterer))}ngAfterContentInit(){this._canInitialize&&this._watchForMarkerChanges()}ngOnChanges(e){const{markerClusterer:i,ariaLabelFn:r,_averageCenter:o,_batchSizeIE:a,_calculator:c,_styles:l,_clusterClass:d,_enableRetinaIcons:h,_gridSize:m,_ignoreHidden:v,_imageExtension:u,_imagePath:f,_imageSizes:k,_maxZoom:T,_minimumClusterSize:M,_title:F,_zIndex:P,_zoomOnClick:_}=this;i&&(e.options&&i.setOptions(this._combineOptions()),e.ariaLabelFn&&(i.ariaLabelFn=r),e.averageCenter&&void 0!==o&&i.setAverageCenter(o),e.batchSizeIE&&void 0!==a&&i.setBatchSizeIE(a),e.calculator&&!!c&&i.setCalculator(c),e.clusterClass&&void 0!==d&&i.setClusterClass(d),e.enableRetinaIcons&&void 0!==h&&i.setEnableRetinaIcons(h),e.gridSize&&void 0!==m&&i.setGridSize(m),e.ignoreHidden&&void 0!==v&&i.setIgnoreHidden(v),e.imageExtension&&void 0!==u&&i.setImageExtension(u),e.imagePath&&void 0!==f&&i.setImagePath(f),e.imageSizes&&k&&i.setImageSizes(k),e.maxZoom&&void 0!==T&&i.setMaxZoom(T),e.minimumClusterSize&&void 0!==M&&i.setMinimumClusterSize(M),e.styles&&l&&i.setStyles(l),e.title&&void 0!==F&&i.setTitle(F),e.zIndex&&void 0!==P&&i.setZIndex(P),e.zoomOnClick&&void 0!==_&&i.setZoomOnClick(_))}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this._eventManager.destroy(),this.markerClusterer&&this.markerClusterer.setMap(null)}fitMapToMarkers(e){this._assertInitialized(),this.markerClusterer.fitMapToMarkers(e)}getAverageCenter(){return this._assertInitialized(),this.markerClusterer.getAverageCenter()}getBatchSizeIE(){return this._assertInitialized(),this.markerClusterer.getBatchSizeIE()}getCalculator(){return this._assertInitialized(),this.markerClusterer.getCalculator()}getClusterClass(){return this._assertInitialized(),this.markerClusterer.getClusterClass()}getClusters(){return this._assertInitialized(),this.markerClusterer.getClusters()}getEnableRetinaIcons(){return this._assertInitialized(),this.markerClusterer.getEnableRetinaIcons()}getGridSize(){return this._assertInitialized(),this.markerClusterer.getGridSize()}getIgnoreHidden(){return this._assertInitialized(),this.markerClusterer.getIgnoreHidden()}getImageExtension(){return this._assertInitialized(),this.markerClusterer.getImageExtension()}getImagePath(){return this._assertInitialized(),this.markerClusterer.getImagePath()}getImageSizes(){return this._assertInitialized(),this.markerClusterer.getImageSizes()}getMaxZoom(){return this._assertInitialized(),this.markerClusterer.getMaxZoom()}getMinimumClusterSize(){return this._assertInitialized(),this.markerClusterer.getMinimumClusterSize()}getStyles(){return this._assertInitialized(),this.markerClusterer.getStyles()}getTitle(){return this._assertInitialized(),this.markerClusterer.getTitle()}getTotalClusters(){return this._assertInitialized(),this.markerClusterer.getTotalClusters()}getTotalMarkers(){return this._assertInitialized(),this.markerClusterer.getTotalMarkers()}getZIndex(){return this._assertInitialized(),this.markerClusterer.getZIndex()}getZoomOnClick(){return this._assertInitialized(),this.markerClusterer.getZoomOnClick()}_combineOptions(){var e,i,r,o,a,c,l,d,h,m,v,u,f,k,T,M,F,P;const _=this._options||Zt;return Object.assign(Object.assign({},_),{ariaLabelFn:null!==(e=this.ariaLabelFn)&&void 0!==e?e:_.ariaLabelFn,averageCenter:null!==(i=this._averageCenter)&&void 0!==i?i:_.averageCenter,batchSize:null!==(r=this.batchSize)&&void 0!==r?r:_.batchSize,batchSizeIE:null!==(o=this._batchSizeIE)&&void 0!==o?o:_.batchSizeIE,calculator:null!==(a=this._calculator)&&void 0!==a?a:_.calculator,clusterClass:null!==(c=this._clusterClass)&&void 0!==c?c:_.clusterClass,enableRetinaIcons:null!==(l=this._enableRetinaIcons)&&void 0!==l?l:_.enableRetinaIcons,gridSize:null!==(d=this._gridSize)&&void 0!==d?d:_.gridSize,ignoreHidden:null!==(h=this._ignoreHidden)&&void 0!==h?h:_.ignoreHidden,imageExtension:null!==(m=this._imageExtension)&&void 0!==m?m:_.imageExtension,imagePath:null!==(v=this._imagePath)&&void 0!==v?v:_.imagePath,imageSizes:null!==(u=this._imageSizes)&&void 0!==u?u:_.imageSizes,maxZoom:null!==(f=this._maxZoom)&&void 0!==f?f:_.maxZoom,minimumClusterSize:null!==(k=this._minimumClusterSize)&&void 0!==k?k:_.minimumClusterSize,styles:null!==(T=this._styles)&&void 0!==T?T:_.styles,title:null!==(M=this._title)&&void 0!==M?M:_.title,zIndex:null!==(F=this._zIndex)&&void 0!==F?F:_.zIndex,zoomOnClick:null!==(P=this._zoomOnClick)&&void 0!==P?P:_.zoomOnClick})}_watchForMarkerChanges(){this._assertInitialized();const e=[];for(const i of this._getInternalMarkers(this._markers.toArray()))this._currentMarkers.add(i),e.push(i);this.markerClusterer.addMarkers(e),this._markers.changes.pipe((0,C.R)(this._destroy)).subscribe(i=>{this._assertInitialized();const r=new Set(this._getInternalMarkers(i)),o=[],a=[];for(const c of Array.from(r))this._currentMarkers.has(c)||(this._currentMarkers.add(c),o.push(c));for(const c of Array.from(this._currentMarkers))r.has(c)||a.push(c);this.markerClusterer.addMarkers(o,!0),this.markerClusterer.removeMarkers(a,!0),this.markerClusterer.repaint();for(const c of a)this._currentMarkers.delete(c)})}_getInternalMarkers(e){return e.filter(i=>!!i.marker).map(i=>i.marker)}_assertInitialized(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(I),s.Y36(s.R0b))},t.\u0275cmp=s.Xpm({type:t,selectors:[["map-marker-clusterer"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,de,5),2&e){let o;s.iGM(o=s.CRH())&&(i._markers=o)}},inputs:{ariaLabelFn:"ariaLabelFn",averageCenter:"averageCenter",batchSizeIE:"batchSizeIE",calculator:"calculator",clusterClass:"clusterClass",enableRetinaIcons:"enableRetinaIcons",gridSize:"gridSize",ignoreHidden:"ignoreHidden",imageExtension:"imageExtension",imagePath:"imagePath",imageSizes:"imageSizes",maxZoom:"maxZoom",minimumClusterSize:"minimumClusterSize",styles:"styles",title:"title",zIndex:"zIndex",zoomOnClick:"zoomOnClick",options:"options",batchSize:"batchSize"},outputs:{clusteringbegin:"clusteringbegin",clusteringend:"clusteringend",clusterClick:"clusterClick"},exportAs:["mapMarkerClusterer"],features:[s.TTD],ngContentSelectors:Se,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),t})(),Xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();const qt=t=>t.map.map,Qt=t=>t.map.map.statistics,ei=t=>t.map.map.loading;var ti=g(9291),Pe=g(8541);const ii={east:30.061523437499996,north:46.04273709212578,south:34.849876732415346,west:10.813476562499996},Ne={lat:40.446306912270565,lng:20.437499999999996};var ni=g(4612),si=g(5435);class Be{}class Ge{}class L{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(e=>{let i=n[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const e=this.headers.get(n.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,e){return this.clone({name:n,value:e,op:"a"})}set(n,e){return this.clone({name:n,value:e,op:"s"})}delete(n,e){return this.clone({name:n,value:e,op:"d"})}maybeSetNormalizedName(n,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,n)}init(){this.lazyInit&&(this.lazyInit instanceof L?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(e=>{this.headers.set(e,n.headers.get(e)),this.normalizedNames.set(e,n.normalizedNames.get(e))})}clone(n){const e=new L;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof L?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([n]),e}applyUpdate(n){const e=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(n.name,e);const r=("a"===n.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=n.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(c=>-1===o.indexOf(c)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>n(this.normalizedNames.get(e),this.headers.get(e)))}}class ri{encodeKey(n){return Ue(n)}encodeValue(n){return Ue(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const ai=/%(\d[a-f0-9])/gi,ci={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Ue(t){return encodeURIComponent(t).replace(ai,(n,e)=>{var i;return null!==(i=ci[e])&&void 0!==i?i:n})}function je(t){return`${t}`}class z{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new ri,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,c]=-1==o?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(c),e.set(a,l)}),e}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(e=>{const i=n.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const e=this.map.get(n);return e?e[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,e){return this.clone({param:n,value:e,op:"a"})}appendAll(n){const e=[];return Object.keys(n).forEach(i=>{const r=n[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(n,e){return this.clone({param:n,value:e,op:"s"})}delete(n,e){return this.clone({param:n,value:e,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const e=this.encoder.encodeKey(n);return this.map.get(n).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const e=new z({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(n),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const e=("a"===n.op?this.map.get(n.param):void 0)||[];e.push(je(n.value)),this.map.set(n.param,e);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let i=this.map.get(n.param)||[];const r=i.indexOf(je(n.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class li{constructor(){this.map=new Map}set(n,e){return this.map.set(n,e),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}keys(){return this.map.keys()}}function Ze(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function He(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Ye(t){return"undefined"!=typeof FormData&&t instanceof FormData}class J{constructor(n,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new L),this.context||(this.context=new li),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const c=e.indexOf("?");this.urlWithParams=e+(-1===c?"?":c<e.length-1?"&":"")+a}}else this.params=new z,this.urlWithParams=e}serializeBody(){return null===this.body?null:Ze(this.body)||He(this.body)||Ye(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof z?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ye(this.body)?null:He(this.body)?this.body.type||null:Ze(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof z?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var e;const i=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,a=void 0!==n.body?n.body:this.body,c=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let d=n.headers||this.headers,h=n.params||this.params;const m=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(d=Object.keys(n.setHeaders).reduce((v,u)=>v.set(u,n.setHeaders[u]),d)),n.setParams&&(h=Object.keys(n.setParams).reduce((v,u)=>v.set(u,n.setParams[u]),h)),new J(i,r,a,{params:h,headers:d,context:m,reportProgress:l,responseType:o,withCredentials:c})}}var y=(()=>((y=y||{})[y.Sent=0]="Sent",y[y.UploadProgress=1]="UploadProgress",y[y.ResponseHeader=2]="ResponseHeader",y[y.DownloadProgress=3]="DownloadProgress",y[y.Response=4]="Response",y[y.User=5]="User",y))();class ue{constructor(n,e=200,i="OK"){this.headers=n.headers||new L,this.status=void 0!==n.status?n.status:e,this.statusText=n.statusText||i,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class ge extends ue{constructor(n={}){super(n),this.type=y.ResponseHeader}clone(n={}){return new ge({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class $ extends ue{constructor(n={}){super(n),this.type=y.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new $({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class te extends ue{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function pe(t,n){return{body:n,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let X=(()=>{class t{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof J)o=e;else{let l,d;l=r.headers instanceof L?r.headers:new L(r.headers),r.params&&(d=r.params instanceof z?r.params:new z({fromObject:r.params})),o=new J(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=(0,R.of)(o).pipe((0,ni.b)(l=>this.handler.handle(l)));if(e instanceof J||"events"===r.observe)return a;const c=a.pipe((0,si.h)(l=>l instanceof $));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe((0,E.U)(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe((0,E.U)(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe((0,E.U)(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe((0,E.U)(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new z).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,pe(r,i))}post(e,i,r={}){return this.request("POST",e,pe(r,i))}put(e,i,r={}){return this.request("PUT",e,pe(r,i))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Be))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();class Ke{constructor(n,e){this.next=n,this.interceptor=e}handle(n){return this.interceptor.intercept(n,this.next)}}const fe=new s.OlP("HTTP_INTERCEPTORS");let ui=(()=>{class t{intercept(e,i){return i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),gi=0;class Ve{}let We=(()=>{class t{constructor(e,i){this.callbackMap=e,this.document=i,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+gi++}handle(e){if("JSONP"!==e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==e.responseType)throw new Error("JSONP requests must use Json response type.");return new V.y(i=>{const r=this.nextCallback(),o=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${r}$1`),a=this.document.createElement("script");a.src=o;let c=null,l=!1,d=!1;this.callbackMap[r]=u=>{delete this.callbackMap[r],!d&&(c=u,l=!0)};const h=()=>{a.parentNode&&a.parentNode.removeChild(a),delete this.callbackMap[r]},m=u=>{d||this.resolvedPromise.then(()=>{h(),l?(i.next(new $({body:c,status:200,statusText:"OK",url:o})),i.complete()):i.error(new te({url:o,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},v=u=>{d||(h(),i.error(new te({error:u,status:0,statusText:"JSONP Error",url:o})))};return a.addEventListener("load",m),a.addEventListener("error",v),this.document.body.appendChild(a),i.next({type:y.Sent}),()=>{d=!0,a.removeEventListener("load",m),a.removeEventListener("error",v),h()}})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Ve),s.LFG(p.K0))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),_i=(()=>{class t{constructor(e){this.jsonp=e}intercept(e,i){return"JSONP"===e.method?this.jsonp.handle(e):i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(We))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const yi=/^\)\]\}',?\n/;let Je=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new V.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((u,f)=>r.setRequestHeader(u,f.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const u=e.detectContentTypeHeader();null!==u&&r.setRequestHeader("Content-Type",u)}if(e.responseType){const u=e.responseType.toLowerCase();r.responseType="json"!==u?u:"text"}const o=e.serializeBody();let a=null;const c=()=>{if(null!==a)return a;const u=1223===r.status?204:r.status,f=r.statusText||"OK",k=new L(r.getAllResponseHeaders()),T=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||e.url;return a=new ge({headers:k,status:u,statusText:f,url:T}),a},l=()=>{let{headers:u,status:f,statusText:k,url:T}=c(),M=null;204!==f&&(M=void 0===r.response?r.responseText:r.response),0===f&&(f=M?200:0);let F=f>=200&&f<300;if("json"===e.responseType&&"string"==typeof M){const P=M;M=M.replace(yi,"");try{M=""!==M?JSON.parse(M):null}catch(_){M=P,F&&(F=!1,M={error:_,text:M})}}F?(i.next(new $({body:M,headers:u,status:f,statusText:k,url:T||void 0})),i.complete()):i.error(new te({error:M,headers:u,status:f,statusText:k,url:T||void 0}))},d=u=>{const{url:f}=c(),k=new te({error:u,status:r.status||0,statusText:r.statusText||"Unknown Error",url:f||void 0});i.error(k)};let h=!1;const m=u=>{h||(i.next(c()),h=!0);let f={type:y.DownloadProgress,loaded:u.loaded};u.lengthComputable&&(f.total=u.total),"text"===e.responseType&&!!r.responseText&&(f.partialText=r.responseText),i.next(f)},v=u=>{let f={type:y.UploadProgress,loaded:u.loaded};u.lengthComputable&&(f.total=u.total),i.next(f)};return r.addEventListener("load",l),r.addEventListener("error",d),r.addEventListener("timeout",d),r.addEventListener("abort",d),e.reportProgress&&(r.addEventListener("progress",m),null!==o&&r.upload&&r.upload.addEventListener("progress",v)),r.send(o),i.next({type:y.Sent}),()=>{r.removeEventListener("error",d),r.removeEventListener("abort",d),r.removeEventListener("load",l),r.removeEventListener("timeout",d),e.reportProgress&&(r.removeEventListener("progress",m),null!==o&&r.upload&&r.upload.removeEventListener("progress",v)),r.readyState!==r.DONE&&r.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(p.JF))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();const me=new s.OlP("XSRF_COOKIE_NAME"),_e=new s.OlP("XSRF_HEADER_NAME");class $e{}let vi=(()=>{class t{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(p.K0),s.LFG(s.Lbi),s.LFG(me))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),ye=(()=>{class t{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG($e),s.LFG(_e))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})(),bi=(()=>{class t{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(fe,[]);this.chain=i.reduceRight((r,o)=>new Ke(r,o),this.backend)}return this.chain.handle(e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(Ge),s.LFG(s.zs3))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac}),t})();function Ci(){return"object"==typeof window?window:{}}let Ei=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:ye,useClass:ui}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:me,useValue:e.cookieName}:[],e.headerName?{provide:_e,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[ye,{provide:fe,useExisting:ye,multi:!0},{provide:$e,useClass:vi},{provide:me,useValue:"XSRF-TOKEN"},{provide:_e,useValue:"X-XSRF-TOKEN"}]}),t})(),Ii=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[X,{provide:Be,useClass:bi},Je,{provide:Ge,useExisting:Je}],imports:[[Ei.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})(),wi=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({providers:[We,{provide:Ve,useFactory:Ci},{provide:fe,useClass:_i,multi:!0}]}),t})(),Me=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[p.ez]]}),t})(),Xe=(()=>{class t{constructor(){}date(){return new Date}toUTC(){const e=this.date();return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()))}toLocaleString(e){return new Date(e).toLocaleString()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:Me}),t})();var qe=g(3065);class ki{constructor(n){this.position=n.position,this.createdAt=n.createdAt}}let ve;g(3653),g(7519);try{ve="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(t){ve=!1}let O=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?(0,p.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ve)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(s.Lbi))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(s.Lbi))},token:t,providedIn:"root"}),t})();g(4395),"undefined"!=typeof Element&&Element;const pt="cdk-high-contrast-black-on-white",ft="cdk-high-contrast-white-on-black",we="cdk-high-contrast-active";let mt=(()=>{class t{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(we),e.remove(pt),e.remove(ft),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(we),e.add(pt)):2===i&&(e.add(we),e.add(ft))}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(O),s.LFG(p.K0))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(O),s.LFG(p.K0))},token:t,providedIn:"root"}),t})(),yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({}),t})();const Mt=new s.GfV("12.2.5");g(4735);const bt=new s.GfV("12.2.5"),Cn=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let B,x=(()=>{class t{constructor(e,i,r){this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=i,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checkIsEnabled(e){return!(!(0,s.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const i=getComputedStyle(e);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&bt.full!==Mt.full&&console.warn("The Angular Material version ("+bt.full+") does not match the Angular CDK version ("+Mt.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(mt),s.LFG(Cn,8),s.LFG(p.K0))},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[yt],yt]}),t})();function In(t,n){return class extends t{constructor(...e){super(...e),this.defaultColor=n,this.color=n}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}try{B="undefined"!=typeof Intl}catch(t){B=!1}var Xn=g(205),At=g(9796),qn=g(1555),Qn=g(4402);function re(t,n){return new V.y(e=>{const i=t.length;if(0===i)return void e.complete();const r=new Array(i);let o=0,a=0;for(let c=0;c<i;c++){const l=(0,Qn.D)(t[c]);let d=!1;e.add(l.subscribe({next:h=>{d||(d=!0,a++),r[c]=h},error:h=>e.error(h),complete:()=>{o++,(o===i||!d)&&(a===i&&e.next(n?n.reduce((h,m,v)=>(h[m]=r[v],h),{}):r),e.complete())}}))}})}var ts=g(5319),De=g(3342),is=g(8939),ns=g(8819),Te=g(9075);const ss=["*"];function Ot(t){return Error(`Unable to find icon with the name "${t}"`)}function Ft(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function St(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class G{constructor(n,e,i){this.url=n,this.svgText=e,this.options=i}}let oe=(()=>{class t{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new G(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const a=this._sanitizer.sanitize(s.q3G.HTML,r);if(!a)throw St(r);return this._addSvgIconConfig(e,i,new G("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new G(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw St(i);return this._addSvgIconSetConfig(e,new G("",o,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw Ft(e);const r=this._cachedIconsByUrl.get(i);return r?(0,R.of)(ae(r)):this._loadSvgIconFromConfig(new G(e,null)).pipe((0,De.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,E.U)(o=>ae(o)))}getNamedSvgIcon(e,i=""){const r=Lt(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):(0,Xn._)(Ot(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,R.of)(ae(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,E.U)(i=>ae(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?(0,R.of)(r):function(...t){if(1===t.length){const n=t[0];if((0,At.k)(n))return re(n,null);if((0,qn.K)(n)&&Object.getPrototypeOf(n)===Object.prototype){const e=Object.keys(n);return re(e.map(i=>n[i]),e)}}if("function"==typeof t[t.length-1]){const n=t.pop();return re(t=1===t.length&&(0,At.k)(t[0])?t[0]:t,null).pipe((0,E.U)(e=>n(...e)))}return re(t,null)}(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe((0,Fe.K)(c=>{const d=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(d)),(0,R.of)(null)})))).pipe((0,E.U)(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw Ot(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.indexOf(e)>-1){const a=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(a,e,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,De.b)(i=>e.svgText=i),(0,E.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,R.of)(null):this._fetchIcon(e).pipe((0,De.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const c=this._svgElementFromString("<svg></svg>");return c.appendChild(a),this._setSvgAttributes(c,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString("<svg></svg>"),r=e.attributes;for(let o=0;o<r.length;o++){const{name:a,value:c}=r[o];"id"!==a&&i.setAttribute(a,c)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,a=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const c=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,r);if(!c)throw Ft(r);const l=this._inProgressUrlFetches.get(c);if(l)return l;const d=this._httpClient.get(c,{responseType:"text",withCredentials:a}).pipe((0,is.x)(()=>this._inProgressUrlFetches.delete(c)),(0,ns.B)());return this._inProgressUrlFetches.set(c,d),d}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Lt(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return as(o)?new G(o.url,null,o.options):new G(o,null)}}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(X,8),s.LFG(Te.H7),s.LFG(p.K0,8),s.LFG(s.qLn))},t.\u0275prov=s.Yz7({factory:function(){return new t(s.LFG(X,8),s.LFG(Te.H7),s.LFG(p.K0,8),s.LFG(s.qLn))},token:t,providedIn:"root"}),t})();function ae(t){return t.cloneNode(!0)}function Lt(t,n){return t+":"+n}function as(t){return!(!t.url||!t.options)}const cs=In(class{constructor(t){this._elementRef=t}}),ls=new s.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,s.f3M)(p.K0),n=t?t.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),Rt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],us=Rt.map(t=>`[${t}]`).join(", "),gs=/^url\(['"]?#(.*?)['"]?\)$/;let ps=(()=>{class t extends cs{constructor(e,i,r,o,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._currentIconFetch=ts.w.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=function(t){return null!=t&&"false"!=`${t}`}(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=e.querySelectorAll("style");for(let o=0;o<i.length;o++)i[o].textContent+=" ";const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&e.removeChild(r)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(us),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)Rt.forEach(a=>{const c=i[o],l=c.getAttribute(a),d=l?l.match(gs):null;if(d){let h=r.get(c);h||(h=[],r.set(c,h)),h.push({name:a,value:d[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,S.q)(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(s.SBq),s.Y36(oe),s.$8M("aria-hidden"),s.Y36(ls),s.Y36(s.qLn))},t.\u0275cmp=s.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:ss,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),fs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[x],x]}),t})(),ms=(()=>{class t{constructor(e){this.date=e,this.label="Marker Info",this.marker=new ki({position:{lat:13,lng:13},createdAt:this.date.toUTC()})}ngOnInit(){}openWindow(e,i){var r;this.marker=i,null===(r=this.infoWindow)||void 0===r||r.open(e)}closeWindow(){var e;null===(e=this.infoWindow)||void 0===e||e.close()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(Xe))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-map-info-marker"]],viewQuery:function(e,i){if(1&e&&s.Gf(le,5),2&e){let r;s.iGM(r=s.CRH())&&(i.infoWindow=r.first)}},inputs:{label:"label"},decls:20,vars:4,consts:[[1,"info-content"],[1,"info-header"],[1,"action"],[3,"click"],[1,"property"]],template:function(e,i){1&e&&(s.TgZ(0,"map-info-window"),s.TgZ(1,"div",0),s.TgZ(2,"div",1),s.TgZ(3,"strong"),s._uU(4),s.qZA(),s.TgZ(5,"div",2),s.TgZ(6,"mat-icon",3),s.NdJ("click",function(){return i.closeWindow()}),s._uU(7,"close"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",4),s.TgZ(9,"strong"),s._uU(10,"Lat: "),s.qZA(),s._uU(11),s.qZA(),s.TgZ(12,"div",4),s.TgZ(13,"strong"),s._uU(14,"Lng: "),s.qZA(),s._uU(15),s.qZA(),s.TgZ(16,"div",4),s.TgZ(17,"strong"),s._uU(18,"created: "),s.qZA(),s._uU(19),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(4),s.Oqu(i.label),s.xp6(7),s.hij("",i.marker.position.lat," "),s.xp6(4),s.hij("",i.marker.position.lng," "),s.xp6(4),s.hij(" ",i.date.toLocaleString(i.marker.createdAt)," "))},directives:[le,ps],styles:[".gm-style .gm-style-iw-c{padding:10px}  .gm-style .gm-style-iw-c>button{display:none!important}.info-content[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]{font-size:16px;display:flex;padding:0 0 10px;justify-content:space-between}.info-content[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:relative;top:-3px;cursor:pointer}.info-content[_ngcontent-%COMP%]   .info-header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{position:absolute;right:10px}.info-content[_ngcontent-%COMP%]   .property[_ngcontent-%COMP%]{margin-bottom:5px}.info-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{margin:0}"],data:{animation:[]}}),t})();var _s=g(5609);let ys=(()=>{class t{constructor(){}long(e){return e?this.splitNumbers(e):"0"}short(e){if(e){let i=this.splitNumbers(e).split(",");return this.calcShort(i)}return"0"}splitNumbers(e){return e.toString().split("").reverse().join("").match(/.{1,3}/g).reverse().map(r=>r.split("").reverse().join("")).join(",")}checkSecondPartNumbers(e){let i=e[1].split("");return i[0]>0?i[0]:0}calcShort(e){let l=e.length;if(5==l){let d=this.checkSecondPartNumbers(e);return d?e[0]+"."+d+"T":e[0]+"T"}if(4==l){let d=this.checkSecondPartNumbers(e);return d?e[0]+"."+d+"B":e[0]+"B"}if(3==l){let d=this.checkSecondPartNumbers(e);return d?e[0]+"."+d+"M":e[0]+"M"}if(2==l){let d=this.checkSecondPartNumbers(e);return d?e[0]+"."+d+"K":e[0]+"K"}return 1==l?e[0]:"0"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:Me}),t})(),Ms=(()=>{class t{constructor(e,i){this.store=e,this.number=i,this.statistics=new _s.t,this.mapLoading=!1,this.store.select(ei).subscribe(r=>{this.mapLoading=r}),this.store.select(Qt).subscribe(r=>{this.statistics=r})}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(qe.yh),s.Y36(ys))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-map-statistics"]],decls:16,vars:3,consts:[[1,"map-statistics-content"],[1,"item"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"strong"),s._uU(3,"All Pins"),s.qZA(),s.TgZ(4,"div"),s._uU(5),s.qZA(),s.qZA(),s.TgZ(6,"div",1),s.TgZ(7,"strong"),s._uU(8,"Pins"),s.qZA(),s.TgZ(9,"div"),s._uU(10),s.qZA(),s.qZA(),s.TgZ(11,"div",1),s.TgZ(12,"strong"),s._uU(13,"Time"),s.qZA(),s.TgZ(14,"div"),s._uU(15),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(5),s.hij(" ",i.number.short(i.statistics.allPins)," "),s.xp6(5),s.Oqu(i.number.short(i.statistics.pins)),s.xp6(5),s.Oqu(i.statistics.renderingTime))},styles:[".map-statistics-content[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{text-align:center;padding:0 0 10px}.map-statistics-content[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:last-child{padding:0}"]}),t})();const vs=["infoMarker"];function bs(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"map-marker",7,8),s.NdJ("mapClick",function(){const o=s.CHM(e).$implicit,a=s.MAs(1);return s.oxw(),s.MAs(5).openWindow(a,o)}),s.qZA()}if(2&t){const e=n.$implicit,i=s.oxw(2);s.Q6J("position",e.position)("options",i.markerOptions)}}function Cs(t,n){if(1&t){const e=s.EpF();s.TgZ(0,"div",1),s.TgZ(1,"google-map",2),s.NdJ("mapClick",function(r){return s.CHM(e),s.oxw().addMarker(r)}),s.TgZ(2,"map-marker-clusterer",3),s.YNc(3,bs,2,2,"map-marker",4),s.qZA(),s._UZ(4,"app-map-info-marker",null,5),s.TgZ(6,"div",6),s._UZ(7,"app-map-statistics"),s.qZA(),s.qZA(),s.qZA()}if(2&t){const e=s.oxw();s.xp6(1),s.Q6J("center",e.center)("zoom",e.zoom),s.xp6(1),s.Q6J("imagePath",e.markerClustererImagePath),s.xp6(1),s.Q6J("ngForOf",e.map.markers)("ngForTrackBy",e.trackByFn)}}const Es=[{path:"",component:(()=>{class t{constructor(e,i,r,o){this.date=i,this.store=r,this.cdr=o,this.center=Ne,this.zoom=6,this.markerOptions={draggable:!1},this.map=new ti.q,this.markerClustererImagePath="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.apiLoaded=e.jsonp("https://maps.googleapis.com/maps/api/js?key=AIzaSyAWkEGdOFwUlG5izC20NkqXgibubeksqHY&libraries=drawing","callback").pipe((0,E.U)(()=>!0),(0,Fe.K)(()=>(0,R.of)(!1))),this.store.select(qt).subscribe(a=>{a&&(this.map=a)})}set googleMap(e){e&&this.initDrawingManager(e)}ngOnInit(){this.generateMarkers()}addMarker(e){}initDrawingManager(e){const i={drawingMode:google.maps.drawing.OverlayType.RECTANGLE,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.LEFT_TOP,drawingModes:[google.maps.drawing.OverlayType.RECTANGLE]}};this.drawingManager=new google.maps.drawing.DrawingManager(i),this.drawingManager.setMap(e.googleMap),this.drawingManager.setDrawingMode(null),google.maps.event.addListener(this.drawingManager,"overlaycomplete",r=>{var o;switch(r.overlay.setMap(null),this.drawingManager.setDrawingMode(null),null===(o=this.infoMarker)||void 0===o||o.closeWindow(),r.type){case google.maps.drawing.OverlayType.RECTANGLE:this.generateMarkers(r.overlay.getBounds())}})}generateMarkers(e){this.startTime=performance.now(),this.store.dispatch((0,Pe.Xt)({loading:!0}));let i=e?e.toJSON():ii,r=[];const o=this.generateRandomArray();o.forEach(a=>{let c=i.north+Math.random()*(i.south-i.north),l=i.west+Math.random()*(i.east-i.west);r.push({position:{lng:l,lat:c},createdAt:this.date.toUTC()})}),this.store.dispatch((0,Pe.sA)({map:{markers:r,statistics:{pins:o.length,allPins:this.getAllPins(o.length),renderingTime:this.getRenderingTime()},loading:!1}})),this.center=e?e.getCenter().toJSON():Ne,this.cdr.detectChanges()}generateRandomArray(){return[...Array(Math.floor(6001*Math.random()+9e3)).keys()]}getRenderingTime(){return(performance.now()-this.startTime).toFixed(2)+" ms"}getAllPins(e){return this.map.statistics.allPins+e}trackByFn(e,i){return e}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(X),s.Y36(Xe),s.Y36(qe.yh),s.Y36(s.sBO))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-map-centric"]],viewQuery:function(e,i){if(1&e&&(s.Gf(vs,5),s.Gf(I,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.infoMarker=r.first),s.iGM(r=s.CRH())&&(i.googleMap=r.first)}},decls:2,vars:3,consts:[["class","map-centric-content",4,"ngIf"],[1,"map-centric-content"],["height","100%","width","100%","backgroundColor","white",3,"center","zoom","mapClick"],[3,"imagePath"],[3,"position","options","mapClick",4,"ngFor","ngForOf","ngForTrackBy"],["infoMarker",""],[1,"statistics-content"],[3,"position","options","mapClick"],["mapMarker","mapMarker"]],template:function(e,i){1&e&&(s.YNc(0,Cs,8,5,"div",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,i.apiLoaded))},directives:[p.O5,I,xe,p.sg,ms,Ms,de],pipes:[p.Ov],styles:[".map-centric-content[_ngcontent-%COMP%]{height:100vh}.map-centric-content[_ngcontent-%COMP%]   .statistics-content[_ngcontent-%COMP%]{z-index:1000!important;position:absolute;background-color:#fff;bottom:33px;left:7px;width:auto;min-width:40px;border-radius:4px;padding:10px;box-shadow:0 2px 7px 1px #0000001a}"],changeDetection:0}),t})()}];let Is=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[Oe.Bz.forChild(Es)],Oe.Bz]}),t})(),ws=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[p.ez],fs]}),t})(),ks=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[p.ez,Is,Xt,Ii,wi,Me,ws]]}),t})()}}]);